<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
  <class name="br.com.farofino.domain.produto.Produto" table="PRODUTO">
    <id column="ID" length="36" name="ID">
      <generator class="uuid2"/>
    </id>
    <property name="nome" column="NOME" length="256" not-null="true"/>
    <property name="descricao" column="DESCRICAO" type="text" not-null="true"/>
    <many-to-one name="categoria" column="CATEGORIA" class="br.com.farofino.domain.categoria.Categoria" not-null="true" lazy="proxy" index="PRODUTO_CATEGORIA_IDX" foreign-key="PRODUTO_CATEGORIA_FK"/>
    <map table="CARACTERISTICAPRODUTO" cascade="all-delete-orphan" name="caracteristicas">
      <key column="PRODUTO" not-null="true" foreign-key="CARACTERISTICAPRODUTO_PRODUTO_FK"/>
      <map-key-many-to-many class="br.com.farofino.domain.produto.TipoCaracteristica" foreign-key="CARACTERISTICAPRODUTO_TIPO_FK">
        <column name="TIPO" index="CARACTERISTICAPRODUTO_VALOR_IDX"/>
      </map-key-many-to-many>
      <element type="string" length="255">
        <column name="VALOR" index="CARACTERISTICAPRODUTO_VALOR_IDX"/>
      </element>
    </map>
  </class>
</hibernate-mapping>
